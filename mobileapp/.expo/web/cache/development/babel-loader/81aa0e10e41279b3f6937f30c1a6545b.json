{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport AsyncStorage from \"react-native-web/dist/exports/AsyncStorage\";\nexport var onSignIn = function onSignIn(username, userId, token, drinkType, fbToken, fbId) {\n  return _regeneratorRuntime.async(function onSignIn$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          AsyncStorage.setItem('username', username.toString());\n          AsyncStorage.setItem('token', token.toString());\n          AsyncStorage.setItem('userId', userId.toString());\n          AsyncStorage.setItem('drinkType', drinkType.toString());\n          AsyncStorage.setItem('fbToken', fbToken.toString());\n          AsyncStorage.setItem('fbId', fbId.toString());\n          AsyncStorage.setItem('signedIn', 'true');\n          return _context.abrupt(\"return\", true);\n\n        case 8:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var onSignOut = function onSignOut() {\n  AsyncStorage.clear();\n  return true;\n};\nexport var isSignedIn = function isSignedIn() {\n  return new Promise(function (resolve, reject) {\n    AsyncStorage.getItem('signedIn').then(function (res) {\n      if (res) {\n        resolve(true);\n      } else {\n        resolve(false);\n      }\n    }).catch(function (err) {\n      return reject(err);\n    });\n  });\n};\nexport var fetchData = function fetchData() {\n  var userId, token;\n  return _regeneratorRuntime.async(function fetchData$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return _regeneratorRuntime.awrap(AsyncStorage.getItem('userId'));\n\n        case 2:\n          userId = _context2.sent;\n          _context2.next = 5;\n          return _regeneratorRuntime.awrap(AsyncStorage.getItem('token'));\n\n        case 5:\n          token = _context2.sent;\n          return _context2.abrupt(\"return\", {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            userid: userId,\n            'beeroclock-token': token\n          });\n\n        case 7:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};","map":{"version":3,"sources":["/Users/daniel/Desktop/myProjects/fintracker/mobileapp/src/helpers/auth.js"],"names":["onSignIn","username","userId","token","drinkType","fbToken","fbId","AsyncStorage","setItem","toString","onSignOut","clear","isSignedIn","Promise","resolve","reject","getItem","then","res","catch","err","fetchData","userid"],"mappings":";;AAaA,OAAO,IAAMA,QAAQ,GAAG,SAAXA,QAAW,CAAOC,QAAP,EAAiBC,MAAjB,EAAyBC,KAAzB,EAAgCC,SAAhC,EAA2CC,OAA3C,EAAoDC,IAApD;AAAA;AAAA;AAAA;AAAA;AACtBC,UAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCP,QAAQ,CAACQ,QAAT,EAAjC;AACAF,UAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BL,KAAK,CAACM,QAAN,EAA9B;AACAF,UAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+BN,MAAM,CAACO,QAAP,EAA/B;AACAF,UAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCJ,SAAS,CAACK,QAAV,EAAlC;AACAF,UAAAA,YAAY,CAACC,OAAb,CAAqB,SAArB,EAAgCH,OAAO,CAACI,QAAR,EAAhC;AACAF,UAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BF,IAAI,CAACG,QAAL,EAA7B;AACAF,UAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiC,MAAjC;AAPsB,2CAQf,IARe;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAjB;AAWP,OAAO,IAAME,SAAS,GAAG,SAAZA,SAAY,GAAM;AAC7BH,EAAAA,YAAY,CAACI,KAAb;AACA,SAAO,IAAP;AACD,CAHM;AAKP,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AAC9B,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCR,IAAAA,YAAY,CAACS,OAAb,CAAqB,UAArB,EACGC,IADH,CACQ,UAAAC,GAAG,EAAI;AACX,UAAIA,GAAJ,EAAS;AACPJ,QAAAA,OAAO,CAAC,IAAD,CAAP;AACD,OAFD,MAEO;AACLA,QAAAA,OAAO,CAAC,KAAD,CAAP;AACD;AACF,KAPH,EAQGK,KARH,CAQS,UAAAC,GAAG;AAAA,aAAIL,MAAM,CAACK,GAAD,CAAV;AAAA,KARZ;AASD,GAVM,CAAP;AAWD,CAZM;AAcP,OAAO,IAAMC,SAAS,GAAG,SAAZA,SAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACFd,YAAY,CAACS,OAAb,CAAqB,QAArB,CADE;;AAAA;AACjBd,UAAAA,MADiB;AAAA;AAAA,2CAEHK,YAAY,CAACS,OAAb,CAAqB,OAArB,CAFG;;AAAA;AAEjBb,UAAAA,KAFiB;AAAA,4CAGhB;AACL,sBAAU,kBADL;AAEL,4BAAgB,kBAFX;AAGLmB,YAAAA,MAAM,EAAEpB,MAHH;AAIL,gCAAoBC;AAJf,WAHgB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAlB","sourcesContent":["import { AsyncStorage } from \"react-native\";\n\n// AsyncStorage.removeItem('username')\n//     .then(res => { console.log(\"+++ 5 auth.js username res: \", res)})\n// AsyncStorage.removeItem('token')\n//     .then(res => { console.log(\"+++ 9 auth.js token res: \", res)})\n// AsyncStorage.removeItem('userId')\n//     .then(res => { console.log(\"+++ 13 auth.js userId res: \", res)})\n// AsyncStorage.removeItem('signedIn')\n//     .then(res => { console.log(\"+++ 17 auth.js signedIn res: \", res)})\n// AsyncStorage.removeItem('drinkType')\n//     .then(res => { console.log(\"+++ 21 auth.js drinkType res: \", res)})\n\nexport const onSignIn = async (username, userId, token, drinkType, fbToken, fbId) => {\n  AsyncStorage.setItem('username', username.toString());\n  AsyncStorage.setItem('token', token.toString());\n  AsyncStorage.setItem('userId', userId.toString());\n  AsyncStorage.setItem('drinkType', drinkType.toString());\n  AsyncStorage.setItem('fbToken', fbToken.toString());\n  AsyncStorage.setItem('fbId', fbId.toString())\n  AsyncStorage.setItem('signedIn', 'true');\n  return true;\n};\n\nexport const onSignOut = () => {\n  AsyncStorage.clear();\n  return true;\n};\n\nexport const isSignedIn = () => {\n  return new Promise((resolve, reject) => {\n    AsyncStorage.getItem('signedIn')\n      .then(res => {\n        if (res) {\n          resolve(true);\n        } else {\n          resolve(false);\n        }\n      })\n      .catch(err => reject(err));\n  });\n};\n\nexport const fetchData = async () => {\n  const userId = await AsyncStorage.getItem('userId');\n  const token = await AsyncStorage.getItem('token');\n  return {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n    userid: userId,\n    'beeroclock-token': token,\n  }\n}\n"]},"metadata":{},"sourceType":"module"}